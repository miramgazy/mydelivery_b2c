# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ VITE –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è Coolify

## –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:

1. **–í `docker-compose.coolify.yml`** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ build args:
   ```yaml
   args:
     - VITE_API_URL=${VITE_API_URL}
     - VITE_TELEGRAM_BOT_USERNAME=${VITE_TELEGRAM_BACKEND}
     - VITE_DEV_MODE=${VITE_DEV_MODE:-false}
   ```

2. **–í `frontend/Dockerfile`** –æ–Ω–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –∫–∞–∫ ARG, –Ω–æ **–ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ ENV**:
   ```dockerfile
   ARG VITE_API_URL
   ARG VITE_TELEGRAM_BOT_USERNAME
   ARG VITE_DEV_MODE=false
   ```

3. **–í –∫–æ–¥–µ frontend** —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ **–ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è** —á–µ—Ä–µ–∑ `import.meta.env.VITE_*`

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:

–î–ª—è Vite –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ **ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∫–∞–∫ ARG. –¢–µ–∫—É—â–∏–π Dockerfile –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏—Ö –∫–∞–∫ ENV, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–æ–¥–µ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ú–æ–∂–Ω–æ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å** —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env —Ñ–∞–π–ª Coolify, —Ç–∞–∫ –∫–∞–∫:
- –û–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ frontend
- API_URL –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω –∫–∞–∫ `/api` –≤ `frontend/src/services/api.js`
- TELEGRAM_BOT_USERNAME –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –±—É–¥—É—â–µ–º

–ù—É–∂–Ω–æ **–∏—Å–ø—Ä–∞–≤–∏—Ç—å Dockerfile**, —á—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã:

```dockerfile
ARG VITE_API_URL
ARG VITE_TELEGRAM_BOT_USERNAME
ARG VITE_DEV_MODE=false

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–∞–∫ ENV –¥–ª—è Vite
ENV VITE_API_URL=${VITE_API_URL}
ENV VITE_TELEGRAM_BOT_USERNAME=${VITE_TELEGRAM_BOT_USERNAME}
ENV VITE_DEV_MODE=${VITE_DEV_MODE}
```

–ò –¥–æ–±–∞–≤–∏—Ç—å –≤ .env Coolify:
```env
VITE_API_URL=/api
VITE_DEV_MODE=false
VITE_TELEGRAM_BOT_USERNAME=TG_MiniAppTest_Bot
```

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å** —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env —Ñ–∞–π–ª Coolify, —Ç–∞–∫ –∫–∞–∫:
1. –û–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ
2. API_URL —É–∂–µ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω –∫–∞–∫ `/api` (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å)
3. –≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ:
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å Dockerfile (–¥–æ–±–∞–≤–∏—Ç—å ENV)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ –∫–æ–¥–µ —á–µ—Ä–µ–∑ `import.meta.env.VITE_*`
3. –ó–∞—Ç–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤ .env
