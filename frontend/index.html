<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <!-- Условная загрузка Telegram WebApp скрипта только если это действительно Telegram -->
  <script>
    // Проверяем user agent перед загрузкой скрипта
    (function() {
      const userAgent = navigator.userAgent || '';
      const isTelegramUserAgent = userAgent.includes('Telegram') || userAgent.includes('WebApp');
      
      // Загружаем скрипт только если это Telegram или если есть параметр ?telegram=true
      const urlParams = new URLSearchParams(window.location.search);
      const forceTelegram = urlParams.get('telegram') === 'true';
      
      if (isTelegramUserAgent || forceTelegram) {
        const script = document.createElement('script');
        script.src = 'https://telegram.org/js/telegram-web-app.js';
        script.async = true;
        document.head.appendChild(script);
        console.log('[HTML] Telegram WebApp script loaded (user agent match or force flag)');
      } else {
        console.log('[HTML] Telegram WebApp script NOT loaded (not Telegram user agent)');
      }
    })();
  </script>

  <title>TG Delivery</title>
</head>

<body>
  <div id="app"></div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>